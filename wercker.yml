box: debian
build:
  steps:
    - script:
        name: install dependencies
        code: |
          apt-get update -qq
          apt-get install git cmake g++ python libfontconfig1-dev \
            libx11-dev libxcomposite-dev libgl1-mesa-dev libglu1-mesa-dev freeglut3-dev -y -qq
    - script:
        name: setup git submodule
        code: |
          git submodule update --init --depth 1
    - script:
        name: build
        code: |
          cmake .
          make
    - script:
        name: output dummy file
        code: |
          touch $WERCKER_OUTPUT_DIR/dummy
  after-steps:
    - wantedly/pretty-slack-notify:
        team: robotclub-kut
        token: $SLACK_API_TOKEN
        channel: emoji
